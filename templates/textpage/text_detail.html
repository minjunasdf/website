{% extends 'text_base.html' %}
{% block content %}
  <h2 class="border-bottom py-2">{{ text.subject }}</h2>
  <div class="container my-3">
    <div class="card my-3">
      <div class="card-body">
        <div class="card-text" style="white-space: pre-line;">
          {{ text.content }}
        </div>
        <div class="d-flex justify-content-end">
          <div class="badge bg-secondary">
            {{ text.create_date }}
          </div>
        </div>
      </div>
    </div>
    <h5 class="border-bottom my-3 py-2">
      {{ text.comment_set.count }}개의 답변이 있습니다.
    </h5>
    {% for Text in text.comment_set.all %}
    <div class="card my-3">
      <div class="card-body">
        <div class="card-text" style="white-space: pre-line;">
          {{ Text.content }}
        </div>
        <div class="d-flex justify-content-end">
          <div class="badge bg-secondary">
            {{ Text.create_date }}
          </div>
        </div>
      </div>
    </div>
    {% endfor %}

    <h1 class="border-bottom"></h1>
    <form action="{% url 'textpage:comment_create' text.id %}" method="post" class="my-3">
      {% csrf_token %}
      <div class="form-group">
        <textarea name="content" id="content" rows="7" class="form-control"></textarea>
      </div>
      <h1>  </h1>
      <input type="submit" class="btn btn-outline-dark" value="댓글 등록">
    </form>
  </div>
{% endblock %}